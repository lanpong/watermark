import{r,a as W,o as Q,E as Y,b as Z,c as $,d as ee,e as te,f as oe,g as R,h as q,i,j as h,w as N,u as b,k as A,p as ne,l as le,W as ae,F as G,m as H,n as j,q as se,s as J,t as re}from"./vendor.5a3719cb.js";const ie=function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function V(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=V(o);fetch(o.href,a)}};ie();var K="/watermark/assets/default.d1e79ed3.png";function X(k,m,V){var s=window,o="application/octet-stream",a=V||o,n=k,f=!m&&!V&&n,d=document.createElement("a"),y=function(u){return String(u)},c=s.Blob||s.MozBlob||s.WebKitBlob||y,E=m||"download",x,T;if(c=c.call?c.bind(s):Blob,String(this)==="true"&&(n=[n,a],a=n[0],n=n[1]),f&&f.length<2048&&(E=f.split("/").pop().split("?")[0],d.href=f,d.href.indexOf(f)!==-1)){var _=new XMLHttpRequest;return _.open("GET",f,!0),_.responseType="blob",_.onload=function(u){X(u.target.response,E,o)},setTimeout(function(){_.send()},0),_}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(n))if(n.length>1024*1024*1.999&&c!==y)n=F(n),a=n.type||o;else return navigator.msSaveBlob?navigator.msSaveBlob(F(n),E):B(n);x=n instanceof c?n:new c([n],{type:a});function F(u){var p=u.split(/[:;,]/),C=p[1],D=p[2]=="base64"?atob:decodeURIComponent,M=D(p.pop()),P=M.length,I=0,z=new Uint8Array(P);for(I;I<P;++I)z[I]=M.charCodeAt(I);return new c([z],{type:C})}function B(u,p){if("download"in d)return d.href=u,d.setAttribute("download",E),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),p===!0&&setTimeout(function(){s.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return u=u.replace(/^data:([\w\/\-\+]+)/,o),window.open(u)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=u),!0;var C=document.createElement("iframe");document.body.appendChild(C),p||(u="data:"+u.replace(/^data:([\w\/\-\+]+)/,o)),C.src=u,setTimeout(function(){document.body.removeChild(C)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(x,E);if(s.URL)B(s.URL.createObjectURL(x),!0);else{if(typeof x=="string"||x.constructor===y)try{return B("data:"+a+";base64,"+s.btoa(x))}catch{return B("data:"+a+","+encodeURIComponent(x))}T=new FileReader,T.onload=function(u){B(this.result)},T.readAsDataURL(x)}return!0}var de=(k,m)=>{const V=k.__vccOpts||k;for(const[s,o]of m)V[s]=o;return V};const O=k=>(ne("data-v-1dc39098"),k=k(),le(),k),ue={class:"home"},ce={class:"imgcontent"},pe=["src"],fe=j("\u9009\u62E9\u56FE\u7247"),me={class:"text"},_e={class:"fontstyle"},ve=O(()=>i("span",null,"\u5B57\u4F53 / \u989C\u8272\uFF1A",-1)),ge={class:"other"},he={class:"block"},be=O(()=>i("span",{class:"demonstration"},"\u6C34\u5370\u6570\u91CF",-1)),ye={class:"block"},we=O(()=>i("span",{class:"demonstration"},"\u900F\u660E\u5EA6",-1)),ke={class:"block"},Ve=O(()=>i("span",{class:"demonstration"},"\u5B57\u4F53\u5927\u5C0F",-1)),xe={class:"block"},Se=O(()=>i("span",{class:"demonstration"},"\u89D2\u5EA6",-1)),Ce={class:"block"},Ue=O(()=>i("span",{class:"demonstration"},"\u95F4\u9694",-1)),Ae={class:"block"},Ee=O(()=>i("span",{class:"demonstration"},"\u4FDD\u5B58\u7C7B\u578B",-1)),Be={class:"el-slider",style:{"text-align":"left"}},Ie={class:"save"},Oe=j("\u4FDD\u5B58\u914D\u7F6E"),Le=j("\u4FDD\u5B58\u56FE\u7247"),Te={setup(k){const m=r(K),V=r(K);let s=r(50),o=r("#ffffff"),a=r(50),n=r(24),f=r("\u4EC5\u7528\u4E8Exxxxx\u4F7F\u7528"),d=r(45),y=r(32),c=r("png");const E=W(["png","jpg"]),x=W(["#000000","#ffffff","#ff4500","#ff8c00","#ffd700","#1e90ff","#c71585"]),T=W([{markedFont:"Arial",label:"\u9ED8\u8BA4"},{markedFont:"\u4EFF\u5B8B",label:"\u4EFF\u5B8B"},{markedFont:"\u6977\u4F53",label:"\u6977\u4F53"},{markedFont:"\u5B8B\u4F53",label:"\u5B8B\u4F53"},{markedFont:"\u9ED1\u4F53",label:"\u9ED1\u4F53"}]);let _=r("Arial");const F=r();function B(){F.value.click()}function u(l){const t=l.target.files[0],S=new FileReader;S.readAsDataURL(t),S.onload=v=>{m.value=v.target.result,V.value=v.target.result,C()}}function p(){C()}async function C(){try{const l=await ae([V.value]).image(D).render();m.value=l[0].src}catch(l){throw new Error(l)}}function D(l){let t=l.getContext("2d"),S=n.value,v=f.value,g=d.value,U=_.value;v=`${v}   `,v=v.repeat(a.value);let L=0,w=l.height;t.globalAlpha=s.value/100,t.fillStyle=o.value,t.font=`${S}px ${U}`,t.rotate(g*Math.PI/180);for(let e=0;e<200;e++)w=w-y.value*3,t.fillText(v,L,w);return l}const M=()=>{se("\u957F\u6309\u56FE\u7247\u4FDD\u5B58\u5230\u624B\u673A\u76F8\u518C\uFF01")};function P(){const l=m.value,t=navigator.userAgent,S=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),v=t.indexOf("Android")>-1||t.indexOf("Adr")>-1;if(S||v)return M(),!1;if(window.navigator.msSaveOrOpenBlob){let g=atob(l.split(",")[1]),U=g.length,L=new Uint8Array(U);for(;U--;)L[U]=g.charCodeAt(U);let w=new Blob([L]);const e="download.jpg";window.navigator.msSaveOrOpenBlob(w,e)}else try{const g=c.value;X(l,`download.${g}`,`image/${g}`)}catch(g){throw new Error(g)}}function I(){let l={text:f.value,font:_.value,color:o.value,count:a.value,alpha:s.value,size:n.value,rotate:d.value,gap:y.value,downloadExtType:c.value};try{window.localStorage.setItem("watermarkSettings",JSON.stringify(l))}catch(t){console.error("\u4FDD\u5B58\u6C34\u5370\u914D\u7F6E\u65F6\u62A5\u9519",t)}}function z(){try{let l=JSON.parse(window.localStorage.getItem("watermarkSettings"));l&&(f=r(l.text),_=r(l.font),o=r(l.color),a=r(l.count),s=r(l.alpha),n=r(l.size),d=r(l.rotate),y=r(l.gap),c=r(l.downloadExtType))}catch(l){console.error("\u83B7\u53D6\u4FDD\u5B58\u7684\u914D\u7F6E\u65F6\u62A5\u9519",l)}}return Q(()=>{z(),C()}),(l,t)=>{const S=Y,v=Z,g=$,U=ee,L=te,w=oe;return R(),q("div",ue,[i("div",ce,[i("img",{src:m.value},null,8,pe),h(S,{onClick:B},{default:N(()=>[fe]),_:1}),i("input",{type:"file",ref_key:"fileInput",ref:F,accept:"image/*",onChange:u,style:{display:"none"}},null,544)]),i("div",me,[h(v,{modelValue:b(f),"onUpdate:modelValue":t[0]||(t[0]=e=>A(f)?f.value=e:f=e),placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",onInput:p},null,8,["modelValue"])]),i("div",_e,[ve,h(U,{modelValue:b(_),"onUpdate:modelValue":t[1]||(t[1]=e=>A(_)?_.value=e:_=e),onChange:p,placeholder:"\u8BF7\u9009\u62E9"},{default:N(()=>[(R(!0),q(G,null,H(b(T),e=>(R(),J(g,{key:e.markedFont,label:e.label,value:e.markedFont},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),h(L,{modelValue:b(o),"onUpdate:modelValue":t[2]||(t[2]=e=>A(o)?o.value=e:o=e),predefine:b(x),onChange:p},null,8,["modelValue","predefine"])]),i("div",ge,[i("div",he,[be,h(w,{modelValue:b(a),"onUpdate:modelValue":t[3]||(t[3]=e=>A(a)?a.value=e:a=e),min:40,max:600,onChange:p},null,8,["modelValue"])]),i("div",ye,[we,h(w,{modelValue:b(s),"onUpdate:modelValue":t[4]||(t[4]=e=>A(s)?s.value=e:s=e),onChange:p},null,8,["modelValue"])]),i("div",ke,[Ve,h(w,{modelValue:b(n),"onUpdate:modelValue":t[5]||(t[5]=e=>A(n)?n.value=e:n=e),onChange:p},null,8,["modelValue"])]),i("div",xe,[Se,h(w,{modelValue:b(d),"onUpdate:modelValue":t[6]||(t[6]=e=>A(d)?d.value=e:d=e),min:0,max:90,onChange:p},null,8,["modelValue"])]),i("div",Ce,[Ue,h(w,{modelValue:b(y),"onUpdate:modelValue":t[7]||(t[7]=e=>A(y)?y.value=e:y=e),min:32,max:100,onChange:p},null,8,["modelValue"])]),i("div",Ae,[Ee,i("div",Be,[h(U,{modelValue:b(c),"onUpdate:modelValue":t[8]||(t[8]=e=>A(c)?c.value=e:c=e),placeholder:"\u8BF7\u9009\u62E9"},{default:N(()=>[(R(!0),q(G,null,H(b(E),e=>(R(),J(g,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])]),i("div",Ie,[h(S,{onClick:I},{default:N(()=>[Oe]),_:1}),h(S,{onClick:P},{default:N(()=>[Le]),_:1})])])}}};var Fe=de(Te,[["__scopeId","data-v-1dc39098"]]);re(Fe).mount("#app");
